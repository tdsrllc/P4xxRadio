<!-- HTML header for doxygen 1.8.17-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>P4XX UWB API: RangeNet Mode Parameter Descriptions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="TDSR_logo_250x134.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">P4XX UWB API
   &#160;<span id="projectnumber">1.2.1.dev.b</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('rangenetsection1.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">RangeNet Mode Parameter Descriptions </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The following sections provide additional UWB or system-level detail for API networking parameters described in the documentation</p>
<h1><a class="anchor" id="rangenetsection2"></a>
Selecting ALOHA Min and Max Intervals</h1>
<p>The amount of time required to complete a range request is dependent on the integration rate selected and the amount of data to be transferred. For example, a range request sent with PII=7 and no data will require 21 ms to complete. To determine how much time a given range request and data transfer will take to complete, switch to Ranging Mode, load the data buffer with the required amount of data, set the PII to the desired value and range to another unit. (If the responder is also expected to transfer additional data then load its response buffer as well.) The time required for the range measurement is shown as “Stopwatch Time” on the Receive Tab.</p>
<p>Minimum transmit time can be set to be equal to the maximum interval. In which case the unit will initiate range requests at a fixed rate. Setting the minimum interval less than the time to complete is also valid. However, since doing so will occasionally result in range requests being requested before the previous request is complete, such requests will be reported as busy, indicated by a VCS (Virtual Carrier Sense) flag in the RANGE_INFO message, and a new random time interval will be generated.</p>
<p>Finally, while RangeNet will not allow the user to set a minimum interval greater than the maximum time, the API performs no bounds checks and will generate a random time between the minimum and maximum values. The difference being that the random time generated will always be more the maximum time and less than the minimum interval.</p>
<p>The User has the option of either setting the Min and Max Intervals manually or allowing RangeNet to independently set the ranging rate. This option is controlled by the ACC (Automatic Congestion Control) Flag. Setting the flag to off or zero will enable manual control. Setting the flag will enable ACC. When ACC is set, RangeNet will throttle the range request rate based on the number of nodes in the system such that all nodes operate at the fastest possible rate for a given number of nodes. For more information see the white paper “RangeNet/ALOHA Guide to Optimal Performance."</p>
<h1><a class="anchor" id="rangenetsection3"></a>
Using Beacons and Excluding Nodes</h1>
<p>These are convenient tools for conserving network capacity by preventing unnecessary range requests.</p>
<p><b>Using Beacons.</b> Beacons are defined as units which do not initiate range requests, but which periodically transmit a data packet or “beacon” and respond to range requests from other units. Beacons are useful in several instances. For example, consider a system that contains stationary Anchor Nodes and Mobile Nodes wherein the objective is to have the Mobiles know their own locations. In such a system, the Mobiles need to measure the distance to the Anchors and the Anchors, being stationary, have little need for range information. In this situation, the Anchors should be set up as Beacons. This will conserve airtime for range requests from Mobiles. However, it is important that Beacons occasionally transmit so that they can announce their presence to units which might enter the network. Beacons will initially “beacon” their name at the rate configured by the Min and Max intervals, unless otherwise queried to send a range response. Thus, in the example above, the Beacon could be configured for a Mean transmit rate around 5 seconds (this rate is a trade-off between airtime usage and on quickly a Mobile Node enters the area.) If they are queried, then the Beacons will not initiate beacon messages. Once they stop being queried, they will resume transmitting beacon messages.</p>
<p><b>Excluding Nodes.</b> The ability to exclude nodes is also useful in cases where some of the Anchors are fixed relative to each other but are moving relative to a Mobile. An example would be a robot vehicle using ranging to maintain the distance between the vehicle and a leader walking ahead of the vehicle. In this case, the walker would carry one node and the vehicle could have one node mounted on each of the vehicle corners. Ranges from the vehicle nodes to the walker would be used to determine range and bearing. Since the vehicle needs to know range and bearing, the nodes on the vehicle should initiate range measurements. In which case, all of the nodes on the vehicle would source range requests but there is no need for them to range to other vehicle mounted nodes. The Exclusion capability would be used to prevent any given vehicle mounted unit from communicating to other units mounted on the same vehicle.</p>
<p>Beaconing and Exclusion does not have to be a permanent assignment. Consider the first example of fixed Anchor Beacons and Mobile devices. When the Beacons are initially installed it may be necessary for them to compute their location relative to each other. Given that, it might be advisable for a unit to initially act as a Mobile so that the unit can compute its own location relative to other devices. Once that location has been determined, it could then convert to operation as a Beacon.</p>
<p>None of these examples are meant to suggest a preferred architecture. Depending on the needs of the end application, one might decide not to use Beacons or Exclusion in either of these examples. However, this capability is handy and can be very useful in limiting unnecessary range measurements. Limiting unnecessary measurements is valuable in that it maximizes overall system capacity.</p>
<h1><a class="anchor" id="rangenetsection4"></a>
Difference between Message ID and Host Message ID</h1>
<p>In Ranging Mode, Message ID numbers are controlled and incremented by the Host. This is the responsibility of the Host because the Host initiates the launch of all RF packets. In a complex system where many units are initiating messages, Message ID can be a useful tool for monitoring message flow.</p>
<p>In RangeNet Mode, Message IDs are controlled by the P4xx Network node and the Host has no ability to modify the Message ID number. However, there are a few RangeNet messages that travel from the Host to P4xx that do not initiate RF packets. Examples include setting the configuration and loading Requester or Response Data buffers. These messages are Host messages and each of these messages has an associated Host Message ID number which the Host is responsible for setting. Confirmation messages sent by the P4xx will use this same Host Message ID number.</p>
<p>Message flow in a network is even more complicated to track than the simple node to node messaging typical of Ranging operation. This additional complexity can be handled by tracking both the Message ID and source Node ID of messages. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.17-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
