<!-- HTML header for doxygen 1.8.17-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>P4XX UWB API: Persist Flag Details and Usage</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="TDSR_logo_250x134.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">P4XX UWB API
   &#160;<span id="projectnumber">1.2.1.dev.b</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('persistflagsubsection1.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Persist Flag Details and Usage </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Most radio settings can be saved to flash memory so that they can be applied at radio boot time. Generally, API messages for configuring the radio have a Persist Flag that can tell the radio to save the new settings to flash. This section provides more details on the Persist Flag.</p>
<h1><a class="anchor" id="persistflagsubsection2"></a>
Persist Flag Values</h1>
<p>In an API message with a Persist Flag, the Persist Flag may be either 0 (Do not save to flash), 1 (Save all settings to flash), or 2 (Save settings from this specific message to flash). In more detail:</p>
<ul>
<li>0: Do not write anything to flash; only update the active radio settings.</li>
</ul>
<p>Rebooting the radio at this point would restore the radio to the last saved configuration.</p>
<ul>
<li>1: Save all active radio settings to flash (including the settings updated by this message). This also includes any settings updated by any other messages, even if the persist flag was set to 0 in the other messages.</li>
</ul>
<p>At this point, since the entire radio configuration is now saved to flash, rebooting the radio would cause it to boot up with the same configuration it is now using.</p>
<ul>
<li>2: Save only the settings updated by this message to flash. Unlike when the Persist Flag is set to option 1, changed settings from other messages with the Persist Flag set to 0 will not be saved to flash. Note that this still involves the same overhead of flash writing as Persist Flag 1; the only difference between Persist Flags 1 and 2 is that 2 effectively leaves settings that are already in flash unchanged if they aren’t directly affected by this message.</li>
</ul>
<p>Rebooting the radio at this point would restore the radio to the last saved configuration in general, but with the settings from this specific message included.</p>
<h1><a class="anchor" id="persistflagsubsection3"></a>
Persist Flag Usage</h1>
<p>Host applications will typically only use Persist Flags 0 and 1. 0 is used when possible to avoid unnecessary flash writes (which take up enough time to matter for time-critical applications). When the application specifically needs to store the radio configuration in flash, it uses Persist Flag 1. Persist Flag 2 is fairly situational and not commonly used.</p>
<p>A configuration change commonly involves multiple API messages (e.g. RCM_SET_CONFIG_REQUEST with RN_SET_CONFIG_REQUEST, etc.). If this is the case, only the last message of a series of messages needs to have its Persist Flag set to 1, and the other messages can use Persist Flag 0. Setting all messages’ Persist Flag to 1 is ultimately harmless, but wastes resources on writing the radio configuration to flash for every message.</p>
<h1><a class="anchor" id="persistflagsubsection4"></a>
Saving the Opmode to Flash</h1>
<p>The Opmode (Ranging, RangeNet, Localization) can be saved to flash so that the radio boots up in the desired Opmode. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.17-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
